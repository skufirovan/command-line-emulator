# Эмулятор командной строки

Этот проект представляет собой эмулятор командной строки, реализованный на Python с использованием библиотеки Tkinter для графического интерфейса. Эмулятор позволяет выполнять базовые команды, такие как `ls`, `cd`, `tree` и `rev`, в виртуальной файловой системе, хранящейся в tar-архиве.  Он также поддерживает логирование действий пользователя в JSON-файл.

## Описание функций и настроек

**1. `ShellEmulator(computer_name, archive_path, log_path, startup_script)`:**

* **`computer_name` (str):** Имя компьютера, отображаемое в приглашении командной строки.
* **`archive_path` (str):** Путь к tar-архиву, содержащему виртуальную файловую систему.
* **`log_path` (str):** Путь к JSON-файлу для логирования действий пользователя.
* **`startup_script` (str, optional):** Путь к скрипту, который будет выполнен при запуске эмулятора.

**2. Методы класса `ShellEmulator`:**

* **`load_filesystem()`:** Загружает файловую систему из tar-архива в словарь `self.filesystem`.
* **`init_log()`:** Инициализирует лог-файл JSON.
* **`log_action(command, result)`:** Записывает команду и ее результат в лог-файл.
* **`process_commands()`:** Обрабатывает команды из очереди `command_queue` в отдельном потоке.
* **`execute_command(command)`:** Выполняет команду и возвращает результат.
* **`ls()`:** Выводит список файлов и директорий в текущей директории виртуальной файловой системы.
* **`cd(path)`:** Изменяет текущую директорию в виртуальной файловой системе.
* **`tree()`:** Выводит дерево каталогов, начиная с текущей директории.
* **`rev(arg)`:** Переворачивает строку или содержимое файла из виртуальной файловой системы.
* **`run_startup_script()`:** Выполняет команды из стартового скрипта.
* **`start_gui()`:** Запускает графический интерфейс эмулятора.
* **`on_enter(event)`:** Обрабатывает нажатие клавиши Enter в поле ввода команд.



## Команды для сборки проекта

Для запуска проекта не требуется сборка.  Убедитесь, что у вас установлен Python 3 и библиотека Tkinter.  Вы можете запустить эмулятор, выполнив следующую команду в терминале:

```bash
python main.py <computer_name> <archive_path> <log_path> [<startup_script>]

<computer_name>: Имя компьютера.

<archive_path>: Путь к tar-архиву с файловой системой.

<log_path>: Путь к лог-файлу.

[<startup_script>] (опционально): Путь к стартовому скрипту.
```

## Результаты прогона тестов

Тесты для эмулятора написаны с использованием pytest. Для запуска тестов выполните следующую команду:

pytest -v

Результаты успешного прогона тестов:

![Результат прогона тестов](https://github.com/skufirovan/command-line-emulator/blob/main/img/test.png?raw=true)

![Скриншот работы](https://github.com/skufirovan/command-line-emulator/blob/main/img/shell.png?raw=true)